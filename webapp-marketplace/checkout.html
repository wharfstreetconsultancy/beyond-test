<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Suroor Fashions - Marketplace</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/main.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel='shortcut icon' type='image/x-icon' href='img/favicon.jpg'/>
  </head>
  <body>
    <!------------------------------ Header --------------------------->
    <!--This is the Header Content-->
  	<div class="container-fluid">
  		<div class="row">
  			<div class="col-sm-1 header">
  				<div class="col-xs-1 col-md-1 col-lg-1 text-center">
  					<a href="/"><img src="img/SVGlogo.svg" class="img" alt="Suroor Fashions - Marketplace"></a>
  				</div>
  			</div>
  		</div>
    </div>
  	<nav class="navbar navbar-default">
  		  <div class="container-fluid nav-con">
  			<!--Brand and toggle get grouped for better mobile display-->
  			<div class="navbar-header">
  				<div class="col-sm-1 header">
  				  <button type="button" class="navbar-toggle x collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
  					<span class="sr-only">Toggle navigation</span>
  					<span class="icon-bar"></span>
  					<span class="icon-bar second-bar"></span>
  				  </button>
  			  	</div>
  			</div>
  			<!--Collect the nav links, forms, and other content for toggling-->
  			<div class="collapse navbar-collapse cool-nav" id="bs-example-navbar-collapse-1">
  			  <ul class="myNav nav navbar-nav">
				<li><a href="shop.html">Shop<span class="sr-only">(current)</span></a></li>
  				<li><a href="about.html">About Us<span class="sr-only">(current)</span></a></li>
  				<li><a href="contact.html">Contact</a></li>
  				<li><span id="customer_management"></span></li>
  				<li><span id="cart_management"></span></li>
  			  </ul>
  			</div>
  		  </div>
    </nav>
    <!---------------------------Body ------------------------->
	<div class="body">
		<div class="container">
			<div class="row">
				<div class="col-lg-8 col-lg-offset-2">
					<div class="panel panel-primary">
						<div class="panel-heading">
							Your Shopping Cart...
						</div>
						<div class="panel-body" id="cart_inventory">
							&nbsp;
						</div>
						<div class="panel-footer">
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!------------------------------- Footer --------------------->
    <footer>
      <div class="container-fluid">
        <div class="footer">
          <p class="copyright">&copy; 2017 Suroor Fashions | All Rights Reserved</p>
          <p class="links"><a href="#">Terms of use </a></p>
          <span class="links">|</span>
          <p class="links"><a href="#">Privacy Policy </a></p>
          <span class="links">|</span>
          <p class="links"><a href="#">Sales & Return Policy</a></p>
        </div>
      </div>
    </footer>

		<!-- Latest compiled and minified JavaScript -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
		<script>
		
/* #### START DYNAMIC DATA DECLARATIONS #### */
var latestCart = {latest.cart};
/* #### END DYNAMIC DATA DECLARATIONS #### */
$(document).ready(function() {

	$("#customer_management").load("js/customer.js");
	$("#cart_management").load("js/cart.js");
	
	if(latestCart) {
		
		document.getElementById("cart_inventory").innerHTML = '<div class="row">';
		document.getElementById("cart_inventory").innerHTML += '<div class="col-lg-2">Quantity</div><div class="col-lg-2">Product</div><div class="col-lg-2">Size</div><div class="col-lg-2">Color</div><div class="col-lg-2">Per-Item Cost</div><div class="col-lg-2">Total Cost</div>';
		console.log("Latest cart: "+JSON.stringify(latestCart));
		var totalItems = 0;
		var totalCost = 0.00;
		for(var cartItem of latestCart.items) {
			
			document.getElementById("cart_inventory").innerHTML += '<div class="col-lg-2">'+cartItem.quantity+'</div><div class="col-lg-2">'+cartItem.productName+'</div><div class="col-lg-2">'+cartItem.size+'</div><div class="col-lg-2">'+cartItem.color+'</div><div class="col-lg-2">'+cartItem.cost+'</div><div class="col-lg-2">'+cartItem.cost+'</div>';
			totalItems += cartItem.quantity;
			totalCost += cartItem.cost;
		}
		document.getElementById("cart_inventory").innerHTML += '</div>';
		document.getElementById("cart_cost_summary").innerHTML = totalItems+' item(s) @ ($'+totalCost.toFixed(2)+')';
	} else {
		
		document.getElementById("cart_inventory").innerHTML = '...is currently empty. Please browse our store for some great products!';
	}
});
		</script>
	</body>
</html>
